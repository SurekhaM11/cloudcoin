{"version":3,"sources":["./src/app/dashboard/functions/fix-nft/fix-nft.module.ts","./src/app/dashboard/functions/fix-nft/fix-nft.component.ts","./src/app/dashboard/functions/fix-nft/fix-nft.component.html","./src/app/dashboard/functions/fix-nft/fix-nft-routing.module.ts"],"names":[],"mappings":"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","file":"fix-nft-fix-nft-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { FixNftRoutingModule } from './fix-nft-routing.module';\r\nimport { FixNftComponent } from './fix-nft.component';\r\nimport { LottieModule } from 'ngx-lottie';\r\n@NgModule({\r\n  declarations: [FixNftComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FixNftRoutingModule,\r\n    LottieModule\r\n  ]\r\n})\r\nexport class FixNftModule { }","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'src/app/services/api.service';\r\nimport Swal from 'sweetalert2';\r\nimport { AnimationItem } from 'lottie-web';\r\nimport { AnimationOptions } from 'ngx-lottie';\r\n\r\n@Component({\r\n  selector: 'app-fix-nft',\r\n  templateUrl: './fix-nft.component.html',\r\n  styleUrls: ['./fix-nft.component.scss']\r\n})\r\nexport class FixNftComponent implements OnInit {\r\n  type: string;\r\n  userSky: string;\r\n  userLocal: string;\r\n  payload: any;\r\n  fixProg: any;\r\n  goTODash: boolean = false;\r\n  syncProg : any;\r\n  fixSkyvault : boolean = false;\r\n  showLoader : boolean = false;\r\n  options: AnimationOptions = {\r\n    path: 'https://raida11.cloudcoin.global/animation/cloud_loading.json'\r\n  };\r\n  constructor(private api : ApiService,\r\n    public router : Router) { }\r\n\r\n  ngOnInit(): void {\r\n    this.fixNftFracked();\r\n  }\r\n\r\n  async fixNftFracked(){\r\n    try{\r\n      var data = {\r\n        name : \"NFTs\"\r\n      }\r\n      let response : any = await this.api.fix(data);\r\n      if(response.status === \"success\"){\r\n        this.doCheckNftFix(response.payload?.id, (data: any) => { })\r\n      }\r\n    }\r\n    catch(e){\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  async doCheckNftFix(taskID: any, xdata: any) {\r\n    let task: any = await this.api.doCheck(taskID);\r\n    console.log(\"Task done: \", task);\r\n    if (task) {\r\n      this.payload = task.payload;\r\n      this.fixProg = this.payload;\r\n      if (this.payload.status == \"error\" || this.payload.status == \"completed\") {\r\n        if (this.payload.status == \"completed\") {\r\n          this.goTODash = true;\r\n        } else {\r\n          this.goTODash = true;\r\n          Swal.fire({\r\n            title: this.payload.data.message,\r\n            icon: 'error',\r\n            confirmButtonText: 'Okay',\r\n          }).then((result) => {\r\n            if (result.value) { { } }\r\n          });\r\n        }\r\n        return;\r\n      }\r\n      setTimeout(() => {\r\n        this.doCheckNftFix(taskID, xdata)\r\n      }, 500)\r\n    }\r\n  }\r\n  showLoading(state): void {\r\n    if (state) {\r\n      this.showLoader = true;\r\n    } else {\r\n      this.showLoader = false;\r\n    }\r\n  }\r\n\r\n  animationCreated(animationItem: AnimationItem): void {\r\n    console.log(animationItem);\r\n  }\r\n}\r\n","<div class=\"transWrapper\">\r\n    <div class=\"headerbackWrap\">\r\n        <a href=\"javascript:;\" routerLink=\"/dashboard/home\" class=\"backBtnInHeader\"><img src=\"assets/arrow.svg\"\r\n                alt=\"\"></a>\r\n        <span class=\"titleOne\">Fix Fractured Coins</span>\r\n    </div>\r\n    <div class=\"gap20\"></div>\r\n    <div class=\"transBody\">\r\n        <p class=\"subTitleTwo\">Fix your damaged/fractured coins.</p>\r\n        <div class=\"lineSection\">\r\n            <div *ngIf=\"!goTODash\">\r\n                <div class=\"progressWrap\">\r\n                    <div class=\"progress\">\r\n                        <div class=\"progress-bar progress-bar-striped\" role=\"progressbar\" style=\"background-color: green!important;\"\r\n                        [ngStyle]=\"{'width': fixProg?.progress < 10 ? 10 + fixProg?.progress + '%' : (fixProg?.progress - 5) + '%'}\"\r\n                        aria-valuenow=\"60\" aria-valuemin=\"0\" aria-valuemax=\"100\">Checking your Wallet...</div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"formField\" *ngIf=\"fixProg?.progress == '100' && goTODash\">\r\n                    <div class=\"checkboxInpHolder\">\r\n                        <img src=\"assets/green-check.svg\" alt=\"icon\"> <span style=\"color: #2a4;\"> Damaged coins have been\r\n                            fixed.</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"gap10\"></div>\r\n            <div class=\"fixfrackedTwo\" *ngIf=\"fixProg?.status === 'completed'\">\r\n                <div class=\"healthList\">\r\n                    <div class=\"healthListDiv\">\r\n                        <p>Total Fractured Coins:</p>\r\n                        <h6>{{fixProg?.data?.total_fixed + fixProg?.data?.total_skipped + fixProg?.data?.total_errors}}\r\n                        </h6>\r\n                    </div>\r\n                    <div class=\"healthListDiv\">\r\n                        <p>Coins Successfully Fixed:</p>\r\n                        <h6>{{fixProg?.data?.total_fixed}}</h6>\r\n                    </div>\r\n                    <div class=\"healthListDiv\">\r\n                        <p>Total Coins Skipped:</p>\r\n                        <h6>{{fixProg?.data?.total_skipped}}</h6>\r\n                    </div>\r\n                    <div class=\"healthListDiv\">\r\n                        <p>Total Errors:</p>\r\n                        <h6>{{fixProg?.data?.total_errors}}</h6>\r\n                    </div>\r\n                    <!-- <div class=\"healthListDiv\">\r\n                        <p>Total fixes made <span>(number of times RAIDA servers that fixed a coin)</span></p>\r\n                        <h6>{{fixProg?.data?.total_fixes_made}}</h6>\r\n                    </div>\r\n                    <div class=\"healthListDiv\">\r\n                        <p>Total fixes failed <span>(number of times RAIDA servers did not fix a coin)</span></p>\r\n                        <h6>{{fixProg?.data?.total_fixes_failed}}</h6>\r\n                    </div> -->\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"transBottomFooter\">\r\n        <button class=\"btnCustomBlue\" [ngClass]=\"{'btnDisable': goTODash === false}\"\r\n            (click)=\"goTODash ? router.navigate(['/dashboard/create-nft-gallery']) : ''\">Close</button>\r\n    </div>\r\n</div>\r\n\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { FixNftComponent } from './fix-nft.component';\r\n\r\nconst routes: Routes = [\r\n  {path: '', component: FixNftComponent}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class FixNftRoutingModule { }\r\n"],"sourceRoot":"webpack:///"}