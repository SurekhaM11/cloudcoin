{"version":3,"sources":["./src/app/dashboard/functions/fix-limbo/fix-limbo.component.ts","./src/app/dashboard/functions/fix-limbo/fix-limbo.component.html","./src/app/dashboard/functions/fix-limbo/fix-limbo.module.ts","./src/app/dashboard/functions/fix-limbo/fix-limbo-routing.module.ts"],"names":[],"mappings":"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","file":"fix-limbo-fix-limbo-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'src/app/services/api.service';\r\nimport Swal from 'sweetalert2';\r\nimport { AnimationItem } from 'lottie-web';\r\nimport { AnimationOptions } from 'ngx-lottie';\r\n@Component({\r\n  selector: 'app-fix-limbo',\r\n  templateUrl: './fix-limbo.component.html',\r\n  styleUrls: ['./fix-limbo.component.scss']\r\n})\r\nexport class FixLimboComponent implements OnInit {\r\n  type: string;\r\n  userSky: string;\r\n  userLocal: string;\r\n  payload: any;\r\n  fixLim: any;\r\n  goTODash: boolean = false;\r\n  showLoader : boolean = false;\r\n  options: AnimationOptions = {\r\n    path: 'https://raida11.cloudcoin.global/animation/cloud_loading.json'\r\n  };\r\n\r\n  constructor(\r\n    private api : ApiService,\r\n    public router : Router\r\n  ) {\r\n    this.type = localStorage.getItem('wallet');\r\n    this.userSky = localStorage.getItem('userSky');\r\n    this.userLocal = localStorage.getItem('userLocal');\r\n   }\r\n\r\n  ngOnInit(): void {\r\n    this.fixLimbo();\r\n  }\r\n\r\n\r\n  async fixLimbo(){\r\n    try{\r\n      var data = {\r\n        name : this.userLocal\r\n      }\r\n      let response : any = await this.api.fixlimbo(data);\r\n      if(response.status === \"success\"){\r\n        this.doCheckFixLimbo(response.payload?.id, (data: any) => { })\r\n      }\r\n    }\r\n    catch(e){\r\n      console.log(e);\r\n    }\r\n  }\r\n  async doCheckFixLimbo(taskID: any, xdata: any) {\r\n    let task: any = await this.api.doCheck(taskID);\r\n    console.log(\"Task done: \", task);\r\n    if (task) {\r\n      this.payload = task.payload;\r\n      this.fixLim = this.payload;\r\n      if (this.payload.status == \"error\" || this.payload.status == \"completed\") {\r\n        if (this.payload.status == \"completed\") {\r\n          this.goTODash = true;\r\n        } else {\r\n          this.goTODash = true;\r\n          Swal.fire({\r\n            title: this.payload.data.message,\r\n            icon: 'error',\r\n            confirmButtonText: 'Okay',\r\n          }).then((result) => {\r\n            if (result.value) { { } }\r\n          });\r\n        }\r\n        return;\r\n      }\r\n      setTimeout(() => {\r\n        this.doCheckFixLimbo(taskID, xdata)\r\n      }, 500)\r\n    }\r\n  }\r\n\r\n  showLoading(state): void {\r\n    if (state) {\r\n      this.showLoader = true;\r\n    } else {\r\n      this.showLoader = false;\r\n    }\r\n  }\r\n\r\n  animationCreated(animationItem: AnimationItem): void {\r\n    console.log(animationItem);\r\n  }\r\n\r\n}\r\n","<div class=\"transWrapper\">\r\n    <div class=\"headerbackWrap\">\r\n        <a href=\"javascript:;\" routerLink=\"/dashboard/home\" class=\"backBtnInHeader\"><img src=\"assets/arrow.svg\"\r\n                alt=\"\"></a>\r\n        <span class=\"titleOne\">Find Unprocessed Coins</span>\r\n    </div>\r\n    <div class=\"gap20\"></div>\r\n    <div class=\"transBody\">\r\n        <p class=\"subTitleTwo\">Find your unprocessed coins.</p>\r\n        <div class=\"lineSection\">\r\n            <div *ngIf=\"!goTODash\">\r\n                <div class=\"progressWrap\">\r\n                    <div class=\"progress\">\r\n                        <div class=\"progress-bar progress-bar-striped\" role=\"progressbar\" style=\"background-color: green!important;\"\r\n                        [ngStyle]=\"{'width': fixLim?.progress < 10 ? 10 + fixLim?.progress + '%' : (fixLim?.progress - 5) + '%'}\"\r\n                        aria-valuenow=\"60\" aria-valuemin=\"0\" aria-valuemax=\"100\">Checking your Wallet...</div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"formField\" *ngIf=\"fixLim?.progress == '100' && goTODash\">\r\n                    <div class=\"checkboxInpHolder\">\r\n                        <img src=\"assets/green-check.svg\" alt=\"icon\"> <span style=\"color: #2a4;\"> Unprocessed Coins\r\n                            are now processed.</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"gap10\"></div>\r\n            <div class=\"fixLimboTwo\" *ngIf=\"fixLim?.status === 'completed'\">\r\n                <div class=\"healthList\">\r\n                    <div class=\"healthListDiv\">\r\n                        <p>Total Unprocessed Coins:</p>\r\n                        <h6>{{fixLim?.data?.total_fixed + fixLim?.data?.total_skipped + fixLim?.data?.total_errors}}\r\n                        </h6>\r\n                    </div>\r\n                    <div class=\"healthListDiv\">\r\n                        <p>Coins Successfully Processed:</p>\r\n                        <h6>{{fixLim?.data?.total_fixed}}</h6>\r\n                    </div>\r\n                    <div class=\"healthListDiv\">\r\n                        <p>Total Coins Skipped:</p>\r\n                        <h6>{{fixLim?.data?.total_skipped}}</h6>\r\n                    </div>\r\n                    <div class=\"healthListDiv\">\r\n                        <p>Total Errors:</p>\r\n                        <h6>{{fixLim?.data?.total_errors}}</h6>\r\n                    </div>\r\n                    <!-- <div class=\"healthListDiv\">\r\n                        <p>Total fixes made <span>(number of times RAIDA servers that fixed a coin)</span></p>\r\n                        <h6>{{fixLim?.data?.total_fixes_made}}</h6>\r\n                    </div>\r\n                    <div class=\"healthListDiv\">\r\n                        <p>Total fixes failed <span>(number of times RAIDA servers did not fix a coin)</span></p>\r\n                        <h6>{{fixLim?.data?.total_fixes_failed}}</h6>\r\n                    </div> -->\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"transBottomFooter\">\r\n        <button class=\"btnCustomBlue\" [ngClass]=\"{'btnDisable': goTODash === false}\"\r\n            (click)=\"goTODash ? router.navigate(['/dashboard/home']) : ''\">Close</button>\r\n    </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { FixLimboRoutingModule } from './fix-limbo-routing.module';\r\nimport { FixLimboComponent } from './fix-limbo.component';\r\nimport { LottieModule } from 'ngx-lottie';\r\n\r\n@NgModule({\r\n  declarations: [FixLimboComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FixLimboRoutingModule,\r\n    LottieModule\r\n  ]\r\n})\r\nexport class FixLimboModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { FixLimboComponent } from './fix-limbo.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n   path: '', \r\n   component: FixLimboComponent\r\n}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class FixLimboRoutingModule { }"],"sourceRoot":"webpack:///"}